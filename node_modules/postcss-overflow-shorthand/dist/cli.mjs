#!/usr/bin/env node

import e from"tty";import t from"path";import r from"url";import n,{promises as s}from"fs";const i=/^overflow/i;const o=e=>{const t=!("preserve"in Object(e))||Boolean(e.preserve);return{postcssPlugin:"postcss-overflow-shorthand",Declaration:(e,{list:r})=>{i.test(e)&&function(e,t,r){const[n,s,...i]=e.space(t.value);s&&!i.length&&(t.cloneBefore({prop:`${t.prop}-x`,value:n}),t.cloneBefore({prop:`${t.prop}-y`,value:s}),r||t.remove())}(r,e,t)}}};var a;o.postcss=!0,function(e){e.InvalidArguments="INVALID_ARGUMENTS"}(a||(a={}));var l={exports:{}};let u=e,c=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||"win32"===process.platform||u.isatty(1)&&"dumb"!==process.env.TERM||"CI"in process.env),h=(e,t,r=e)=>n=>{let s=""+n,i=s.indexOf(t,e.length);return~i?e+p(s,t,r,i)+t:e+s+t},p=(e,t,r,n)=>{let s=e.substring(0,n)+r,i=e.substring(n+t.length),o=i.indexOf(t);return~o?s+p(i,t,r,o):s+i},f=(e=c)=>({isColorSupported:e,reset:e?e=>`[0m${e}[0m`:String,bold:e?h("[1m","[22m","[22m[1m"):String,dim:e?h("[2m","[22m","[22m[2m"):String,italic:e?h("[3m","[23m"):String,underline:e?h("[4m","[24m"):String,inverse:e?h("[7m","[27m"):String,hidden:e?h("[8m","[28m"):String,strikethrough:e?h("[9m","[29m"):String,black:e?h("[30m","[39m"):String,red:e?h("[31m","[39m"):String,green:e?h("[32m","[39m"):String,yellow:e?h("[33m","[39m"):String,blue:e?h("[34m","[39m"):String,magenta:e?h("[35m","[39m"):String,cyan:e?h("[36m","[39m"):String,white:e?h("[37m","[39m"):String,gray:e?h("[90m","[39m"):String,bgBlack:e?h("[40m","[49m"):String,bgRed:e?h("[41m","[49m"):String,bgGreen:e?h("[42m","[49m"):String,bgYellow:e?h("[43m","[49m"):String,bgBlue:e?h("[44m","[49m"):String,bgMagenta:e?h("[45m","[49m"):String,bgCyan:e?h("[46m","[49m"):String,bgWhite:e?h("[47m","[49m"):String});l.exports=f(),l.exports.createColors=f;const d="'".charCodeAt(0),g='"'.charCodeAt(0),m="\\".charCodeAt(0),w="/".charCodeAt(0),y="\n".charCodeAt(0),v=" ".charCodeAt(0),C="\f".charCodeAt(0),S="\t".charCodeAt(0),b="\r".charCodeAt(0),_="[".charCodeAt(0),x="]".charCodeAt(0),O="(".charCodeAt(0),A=")".charCodeAt(0),M="{".charCodeAt(0),k="}".charCodeAt(0),E=";".charCodeAt(0),L="*".charCodeAt(0),R=":".charCodeAt(0),P="@".charCodeAt(0),I=/[\t\n\f\r "#'()/;[\\\]{}]/g,N=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,j=/.[\n"'(/\\]/,U=/[\da-f]/i;var B=function(e,t={}){let r,n,s,i,o,a,l,u,c,h,p=e.css.valueOf(),f=t.ignoreErrors,B=p.length,D=0,F=[],T=[];function $(t){throw e.error("Unclosed "+t,D)}return{back:function(e){T.push(e)},nextToken:function(e){if(T.length)return T.pop();if(D>=B)return;let t=!!e&&e.ignoreUnclosed;switch(r=p.charCodeAt(D),r){case y:case v:case S:case b:case C:n=D;do{n+=1,r=p.charCodeAt(n)}while(r===v||r===y||r===S||r===b||r===C);h=["space",p.slice(D,n)],D=n-1;break;case _:case x:case M:case k:case R:case E:case A:{let e=String.fromCharCode(r);h=[e,e,D];break}case O:if(u=F.length?F.pop()[1]:"",c=p.charCodeAt(D+1),"url"===u&&c!==d&&c!==g&&c!==v&&c!==y&&c!==S&&c!==C&&c!==b){n=D;do{if(a=!1,n=p.indexOf(")",n+1),-1===n){if(f||t){n=D;break}$("bracket")}for(l=n;p.charCodeAt(l-1)===m;)l-=1,a=!a}while(a);h=["brackets",p.slice(D,n+1),D,n],D=n}else n=p.indexOf(")",D+1),i=p.slice(D,n+1),-1===n||j.test(i)?h=["(","(",D]:(h=["brackets",i,D,n],D=n);break;case d:case g:s=r===d?"'":'"',n=D;do{if(a=!1,n=p.indexOf(s,n+1),-1===n){if(f||t){n=D+1;break}$("string")}for(l=n;p.charCodeAt(l-1)===m;)l-=1,a=!a}while(a);h=["string",p.slice(D,n+1),D,n],D=n;break;case P:I.lastIndex=D+1,I.test(p),n=0===I.lastIndex?p.length-1:I.lastIndex-2,h=["at-word",p.slice(D,n+1),D,n],D=n;break;case m:for(n=D,o=!0;p.charCodeAt(n+1)===m;)n+=1,o=!o;if(r=p.charCodeAt(n+1),o&&r!==w&&r!==v&&r!==y&&r!==S&&r!==b&&r!==C&&(n+=1,U.test(p.charAt(n)))){for(;U.test(p.charAt(n+1));)n+=1;p.charCodeAt(n+1)===v&&(n+=1)}h=["word",p.slice(D,n+1),D,n],D=n;break;default:r===w&&p.charCodeAt(D+1)===L?(n=p.indexOf("*/",D+2)+1,0===n&&(f||t?n=p.length:$("comment")),h=["comment",p.slice(D,n+1),D,n],D=n):(N.lastIndex=D+1,N.test(p),n=0===N.lastIndex?p.length-1:N.lastIndex-2,h=["word",p.slice(D,n+1),D,n],F.push(h),D=n)}return D++,h},endOfFile:function(){return 0===T.length&&D>=B},position:function(){return D}}};let D,F=l.exports,T=B;const $={brackets:F.cyan,"at-word":F.cyan,comment:F.gray,string:F.green,class:F.yellow,hash:F.magenta,call:F.cyan,"(":F.cyan,")":F.cyan,"{":F.yellow,"}":F.yellow,"[":F.yellow,"]":F.yellow,":":F.yellow,";":F.yellow};function G([e,t],r){if("word"===e){if("."===t[0])return"class";if("#"===t[0])return"hash"}if(!r.endOfFile()){let e=r.nextToken();if(r.back(e),"brackets"===e[0]||"("===e[0])return"call"}return e}function z(e){let t=T(new D(e),{ignoreErrors:!0}),r="";for(;!t.endOfFile();){let e=t.nextToken(),n=$[G(e,t)];r+=n?e[1].split(/\r?\n/).map((e=>n(e))).join("\n"):e[1]}return r}z.registerInput=function(e){D=e};var W=z;let V=l.exports,J=W;class q extends Error{constructor(e,t,r,n,s,i){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),n&&(this.source=n),i&&(this.plugin=i),void 0!==t&&void 0!==r&&("number"==typeof t?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,q)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=V.isColorSupported),J&&e&&(t=J(t));let r,n,s=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),a=String(o).length;if(e){let{bold:e,red:t,gray:s}=V.createColors(!0);r=r=>e(t(r)),n=e=>s(e)}else r=n=e=>e;return s.slice(i,o).map(((e,t)=>{let s=i+1+t,o=" "+(" "+s).slice(-a)+" | ";if(s===this.line){let t=n(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+n(o)+e+"\n "+t+r("^")}return" "+n(o)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}var Y=q;q.default=q;var Q={};Q.isClean=Symbol("isClean"),Q.my=Symbol("my");const Z={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};class H{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,